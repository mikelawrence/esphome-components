substitutions:
  ref: main

esphome:
  name: test-sen6x-rp2040
  friendly_name: Test SEN6X Component with RP2040

rp2040:
  board: rpipicow

external_components:
  source:
    type: git
    url: https://github.com/mikelawrence/esphome-components
    ref: ${ref}
  components: [sen6x]

time:
  - platform: homeassistant
    id: homeassistant_time

i2c:
  - id: i2c1_bus
    sda: GPIO25
    scl: GPIO24
    scan: true

sensor:
  - platform: sen6x
    i2c_id: i2c1_bus
    update_interval: 1s
    type: SEN69C
    temperature_compensation:
      offset: 0
      normalized_offset_slope: 0
      time_constant: 0
    temperature_acceleration:
      t1: 100
      t2: 300
      k: 20
      p: 20
    temperature:
      name: "Temperature"
      accuracy_decimals: 2
    humidity:
      name: "Humidity"
      accuracy_decimals: 2
    pm_1_0:
      name: "PM <1µm Mass concentration"
      accuracy_decimals: 2
    pm_2_5:
      name: "PM <2.5µm Mass concentration"
      accuracy_decimals: 2
    pm_4_0:
      name: "PM <4µm Mass concentration"
      accuracy_decimals: 2
    pm_10_0:
      name: "PM <10µm Mass concentration"
      accuracy_decimals: 2
    co2:
      name: "CO₂"
      automatic_self_calibration: false
      accuracy_decimals: 0
    nox:
      name: "NOₓ"
      accuracy_decimals: 0
      algorithm_tuning:
        index_offset: 1
        learning_time_offset_hours: 12
        gating_max_duration_minutes: 720
        gain_factor: 230
    voc:
      name: "VOC"
      accuracy_decimals: 0
      algorithm_state_recovery: true
      algorithm_state_time_source: homeassistant_time
      algorithm_tuning:
        index_offset: 100
        learning_time_offset_hours: 12
        learning_time_gain_hours: 12
        gating_max_duration_minutes: 180
        std_initial: 50
        gain_factor: 230
    hcho:
      name: "Formaldehyde"
      accuracy_decimals: 0
