esphome:
  name: test-stusb4500-esp32-s3-ard
  friendly_name: Test STUSB4500 Component with ESP32-S3 and Arduino Framework

esp32:
  variant: ESP32S3
  flash_size: 16MB
  cpu_frequency: 240MHz
  framework:
    type: arduino

external_components:
  source:
    type: git
    url: https://github.com/mikelawrence/esphome-components
    ref: main
  components: [ stusb4500 ]

i2c:
  - id: i2c1_bus
    sda: GPIO48
    scl: GPIO47
    scan: true

stusb4500:
  alert_pin: GPIO8
  snk_pdo_numb: 3
  v_snk_pdo2: 9.00V
  i_snk_pdo2: 3.00A
  v_snk_pdo3: 12.00V
  i_snk_pdo3: 3.00A
  power_only_above_5v: true
  usb_comms_capable: true

sensor:
  - platform: stusb4500
    pd_state:
      name: "PD State"

text_sensor:
  - platform: stusb4500
    pd_status:
      name: "PD Status"
